"use strict";$(".icon-menu").click((function(){$(this).toggleClass("active"),$("body").toggleClass("lock"),$(".menu__body").toggleClass("active")})),$(".player__btn-play").click((function(e){$(".player__button").addClass("play"),$(".player__poster").addClass("play"),$(".player__video")[0].play()})),$(".player__video").on("ended",(function(e){$(".player__button").removeClass("play"),$(".player__poster").removeClass("play")})),$(".spoiler__title").click((function(e){$(".spoiler__body").hasClass("one")&&($(".spoiler__title").not($(this)).removeClass("active"),$(".spoiler__content").not($(this).next()).slideUp(300)),$(this).toggleClass("active").next().slideToggle(300)})),$(".slider").slick({vertical:!0,verticalSwiping:!0,adaptiveHeight:!0,adaptiveWidth:!0,infinite:!1,slidesToShow:2,autoplay:0,autoplaySpeed:1e4,draggable:!1,waiteForAnimate:!1}),$(".slider__text").each((function(){parseFloat($(this).css("height"))>100&&$(this).parent().wrap("<div class='slider__wrapper'></div>")}));let sliderItems=$(".slider-img .slider-img__item");sliderItems.length<4&&($(".slider-img__item:last-child").clone().prependTo(".slider-img"),$(".slider-content__item:last-child").clone().prependTo(".slider-content")),$(".slider-img").slick({asNavFor:".slider-content",infinite:!1,slidesToShow:3,initialSlide:2,waiteForAnimate:!1,variableWidth:!0,centerMode:!0,cssEase:"ease-in",speed:500,easing:"liner",touchMove:!1,swipeToSlide:!1,touchThreshold:7}),$(".slider-content").slick({asNavFor:".slider-img",infinite:!1,slidesToShow:1,initialSlide:2,speed:500,cssEase:"ease-in",waiteForAnimate:!1,draggable:!1,swipe:!1});const form=$("form"),popupOpenTimeDelay=6e3;let timerId=null;const popupClickHandler=function(e){e.target!==$(this).find(".popup__body")[0]&&popupMessageClose()};function popupMessageOpen(e){$("#popup-message").find(".popup__content").html(e),$("#popup-message").addClass("open"),$("#popup-message").on("click",popupClickHandler),$("body").addClass("lock"),timerId=setTimeout(popupMessageClose,6e3)}function popupMessageClose(){timerId&&(clearTimeout(timerId),timerId=null),$("#popup-message").off("click",popupClickHandler),$("body").removeClass("lock"),$("#popup-message").removeClass("open")}function formSubmitHandler(e,s){s.preventDefault();const i=formValidate(),t=e.attr("data-message")?e.attr("data-message"):"Form sent",o=new FormData(e[0]);i?(e.addClass("_sending"),$.ajax({url:"PHP/sendmail.php",type:"POST",data:o,contentType:!1,cache:!1,processData:!1}).done((function(){popupMessageOpen(t)})).fail((function(e,s,i){popupMessageOpen(`Ошибка отправки <br> ${s} ${e.status}`)})).always((function(){e[0].reset(),e.removeClass("_sending"),formRemoveSuccess(e.find("._success"))}))):popupMessageOpen("Fill in the required fields")}function formValidate(){let e=0;return form.find("._req").each((function(){formRemoveError($(this)),$(this).hasClass("_email")?emailTest($(this))&&(formAddError($(this)),formRemoveSuccess($(this)),e++):"checkbox"!==$(this).attr("type")||$(this)[0].checked?""===$(this).val()&&(formAddError($(this)),formRemoveSuccess($(this)),e++):(console.log($(this)[0].checked),formAddError($(this)),e++)})),0===e}function inputSuccess(){const e=form.find("._req");let s=0;e.change((function(){$(this)[0].validity.valid&&($(this).hasClass("_error")&&(s=1,formRemoveError($(this))),formAddSuccess($(this))),""!==$(this).val()&&"[A-Za-z]"!=$(this).val()||(formRemoveSuccess($(this)),s&&formAddError($(this)))}))}function formAddError(e){e.parent().addClass("_error"),e.addClass("_error")}function formRemoveError(e){e.parent().removeClass("_error"),e.removeClass("_error")}function emailTest(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.val())}function formAddSuccess(e){e.addClass("_success")}function formRemoveSuccess(e){e.removeClass("_success")}form.submit((function(e){formSubmitHandler($(this),e)})),inputSuccess(),$("a").on("mouseup",(function(){$(this).blur()})),$("button").on("mouseup",(function(){$(this).blur()}));
//# sourceMappingURL=index.min.js.map
