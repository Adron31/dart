{"version":3,"sources":["index.js"],"names":["$","click","this","toggleClass","evt","addClass","play","on","removeClass","event","hasClass","not","next","slideUp","slideToggle","slick","vertical","verticalSwiping","adaptiveHeight","adaptiveWidth","infinite","slidesToShow","autoplay","autoplaySpeed","draggable","waiteForAnimate","each","parseFloat","css","parent","wrap","sliderItems","length","clone","prependTo","asNavFor","initialSlide","variableWidth","centerMode","cssEase","speed","easing","touchMove","swipeToSlide","touchThreshold","swipe","form","popupOpenTimeDelay","timerId","popupClickHandler","target","find","popupMessageClose","popupMessageOpen","message","html","setTimeout","clearTimeout","off","formSubmitHandler","preventDefault","validateSuccess","formValidate","messageSubmit","attr","formData","FormData","ajax","url","type","data","contentType","cache","processData","done","fail","xhr","status","err","always","reset","formRemoveSuccess","error","formRemoveError","emailTest","formAddError","val","inputSuccess","inputsReq","change","validity","valid","formAddSuccess","input","test","submit","blur"],"mappings":"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","file":"index.min.js","sourcesContent":["'use strict';\r\n\r\n$(\".icon-menu\").click(function () {\r\n   $(this).toggleClass('active');\r\n   $('body').toggleClass('lock');\r\n   $('.menu__body').toggleClass('active');\r\n});\r\n$('.player__btn-play').click(function (evt) {\r\n   $('.player__button').addClass('play');\r\n   $('.player__poster').addClass('play');\r\n   $('.player__video')[0].play();\r\n});\r\n\r\n$('.player__video').on('ended', function (evt) {\r\n   $('.player__button').removeClass('play');\r\n   $('.player__poster').removeClass('play');\r\n});\r\n\r\n$('.spoiler__title').click(function (event) {\r\n   if ($('.spoiler__body').hasClass('one')) {\r\n      $('.spoiler__title').not($(this)).removeClass('active');\r\n      $('.spoiler__content').not($(this).next()).slideUp(300);\r\n   }\r\n   $(this).toggleClass('active').next().slideToggle(300);\r\n});\r\n\r\n\r\n$('.slider').slick({\r\n   vertical: true,\r\n   verticalSwiping: true,\r\n   adaptiveHeight: true,\r\n   adaptiveWidth: true,\r\n   infinite: false,\r\n   slidesToShow: 2,\r\n   autoplay: 0,\r\n   autoplaySpeed: 10000,\r\n   draggable: false,\r\n   waiteForAnimate: false,\r\n});\r\n\r\n$('.slider__text').each(function () {\r\n   if (parseFloat($(this).css('height')) > 100) {\r\n      $(this).parent().wrap(\"<div class='slider__wrapper'></div>\");\r\n   }\r\n});\r\n\r\nlet sliderItems = $('.slider-img .slider-img__item');\r\nif (sliderItems.length < 4) {\r\n   $('.slider-img__item:last-child').clone().prependTo('.slider-img');\r\n   $('.slider-content__item:last-child').clone().prependTo('.slider-content');\r\n}\r\n\r\n$('.slider-img').slick({\r\n   asNavFor: '.slider-content',\r\n   infinite: false,\r\n   slidesToShow: 3,\r\n   initialSlide: 2,\r\n   waiteForAnimate: false,\r\n   variableWidth: true,\r\n   centerMode: true,\r\n   cssEase: 'ease-in',\r\n   speed: 500,\r\n   easing: 'liner',\r\n   touchMove: false,\r\n   swipeToSlide: false,\r\n   touchThreshold: 7,\r\n});\r\n\r\n$('.slider-content').slick({\r\n   asNavFor: '.slider-img',\r\n   infinite: false,\r\n   slidesToShow: 1,\r\n   initialSlide: 2,\r\n   speed: 500,\r\n   cssEase: 'ease-in',\r\n   waiteForAnimate: false,\r\n   draggable: false,\r\n   swipe: false,\r\n});\r\n\r\n\r\n\r\nconst form = $('form');\r\nconst popupOpenTimeDelay = 6000;\r\nlet timerId = null;\r\n\r\nconst popupClickHandler = function (evt) {\r\n   if (evt.target !== $(this).find('.popup__body')[0]) {\r\n      popupMessageClose();\r\n   }\r\n};\r\nfunction popupMessageOpen (message) {\r\n   $('#popup-message').find('.popup__content').html(message);\r\n   $('#popup-message').addClass('open');\r\n   $('#popup-message').on('click', popupClickHandler);\r\n   $('body').addClass('lock');\r\n   timerId = setTimeout(popupMessageClose, popupOpenTimeDelay);\r\n}\r\nfunction popupMessageClose () {\r\n   if (timerId) {\r\n      clearTimeout(timerId);\r\n      timerId = null;\r\n   }\r\n   $('#popup-message').off('click', popupClickHandler);\r\n   $('body').removeClass('lock');\r\n   $('#popup-message').removeClass('open');\r\n}\r\n\r\nform.submit(function (evt) {\r\n   formSubmitHandler($(this), evt);\r\n});\r\n\r\nfunction formSubmitHandler (form, evt) {\r\n   evt.preventDefault();\r\n   const validateSuccess = formValidate();\r\n   const messageSubmit = form.attr('data-message') ? form.attr('data-message') : 'Form sent';\r\n   const formData = new FormData(form[0]);\r\n\r\n   if (validateSuccess) {\r\n      form.addClass('_sending');\r\n\r\n      $.ajax({\r\n         url: 'PHP/sendmail.php',\r\n         type: 'POST',\r\n         data: formData,\r\n         contentType: false,\r\n         cache: false,\r\n         processData: false,\r\n\r\n      }).done(function () {\r\n         popupMessageOpen(messageSubmit);\r\n\r\n      }).fail(function (xhr, status, err) {\r\n         popupMessageOpen(`Ошибка отправки <br> ${status} ${xhr.status}`);\r\n\r\n      }).always(function () {\r\n         form[0].reset();\r\n         form.removeClass('_sending');\r\n         formRemoveSuccess(form.find('._success'));\r\n      });\r\n\r\n   } else {\r\n      popupMessageOpen('Fill in the required fields');\r\n   }\r\n};\r\n\r\n\r\nfunction formValidate () {\r\n   let error = 0;\r\n   const inputsReq = form.find('._req');\r\n\r\n   inputsReq.each(function () {\r\n      formRemoveError($(this));\r\n\r\n      if ($(this).hasClass('_email')) {\r\n         if (emailTest($(this))) {\r\n            formAddError($(this));\r\n            formRemoveSuccess($(this));\r\n            error++;\r\n         }\r\n      } else if ($(this).attr('type') === 'checkbox' && $(this).attr('checked') !== 'checked') {\r\n         formAddError($(this));\r\n         error++;\r\n      } else {\r\n         if ($(this).val() === '') {\r\n            formAddError($(this));\r\n            formRemoveSuccess($(this));\r\n            error++;\r\n         }\r\n      }\r\n   });\r\n   return error === 0 ? true : false;\r\n}\r\n\r\nfunction inputSuccess () {\r\n   const inputsReq = form.find('._req');\r\n   let err = 0;\r\n\r\n   inputsReq.change(function () {\r\n      if ($(this)[0].validity.valid) {\r\n         if ($(this).hasClass('_error')) {\r\n            err = 1;\r\n            formRemoveError($(this));\r\n         }\r\n\r\n         formAddSuccess($(this));\r\n      }\r\n\r\n      if ($(this).val() === '' || $(this).val() == '[A-Za-z]') {\r\n         formRemoveSuccess($(this));\r\n\r\n         if (err) {\r\n            formAddError($(this));\r\n         }\r\n      }\r\n   });\r\n}\r\ninputSuccess();\r\n\r\nfunction formAddError (input) {\r\n   input.parent().addClass('_error');\r\n   input.addClass('_error');\r\n}\r\nfunction formRemoveError (input) {\r\n   input.parent().removeClass('_error');\r\n   input.removeClass('_error');\r\n}\r\nfunction emailTest (input) {\r\n   return !/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,8})+$/.test(input.val());\r\n}\r\nfunction formAddSuccess (input) {\r\n   input.addClass('_success');\r\n}\r\nfunction formRemoveSuccess (input) {\r\n   input.removeClass('_success');\r\n}\r\n\r\n\r\n$('a').on('mouseup', function () {\r\n\t$(this).blur();\r\n});\r\n$('button').on('mouseup', function () {\r\n\t$(this).blur();\r\n});"]}